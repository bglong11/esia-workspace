<!DOCTYPE html>
<html><head><meta charset=UTF-8><title>ESIA Architecture Diagram</title>
<style>
body{font-family:"Segoe UI",Tahoma,Geneva,sans-serif;background:linear-gradient(135deg,#0f172a,#1e293b);color:#e2e8f0;margin:0;padding:20px;min-height:100vh}
.container{max-width:1200px;margin:0 auto}
.header{text-align:center;margin-bottom:40px}
.title{font-size:32px;font-weight:700;margin-bottom:10px}
.subtitle{color:#94a3b8;font-size:14px}
.diagram-section{background:#1e293b;border:1px solid #334155;border-radius:8px;padding:30px;margin-bottom:30px}
.component-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}
.component{background:#334155;border-radius:6px;padding:20px;border-left:4px solid #3b82f6;cursor:pointer;transition:all 0.2s}
.component:hover{background:#475569;transform:translateX(4px)}
.component.backend{border-left-color:#10b981}
.component.python{border-left-color:#a855f7}
.component.processing{border-left-color:#f97316}
.component.storage{border-left-color:#06b6d4}
.component.reports{border-left-color:#ec4899}
.component.shared{border-left-color:#6366f1}
.comp-title{font-weight:600;font-size:16px;margin-bottom:8px}
.comp-desc{font-size:13px;color:#cbd5e1;margin-bottom:10px}
.badge{display:inline-block;background:#3b82f6;color:white;padding:4px 8px;border-radius:4px;font-size:11px;margin-right:6px;margin-bottom:6px}
.badge.tech{background:#8b5cf6}
.badge.processing{background:#f97316}
.features{margin-top:10px;font-size:13px;color:#cbd5e1}
.flow{background:#334155;border:1px dashed #475569;border-radius:6px;padding:15px;margin:15px 0;color:#cbd5e1}
.legend{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-top:20px}
.legend-item{display:flex;align-items:center;font-size:13px}
.legend-color{width:20px;height:20px;border-radius:4px;margin-right:10px}
</style></head><body>
<div class="container">
<div class="header">
<div class="title">ESIA Workspace Architecture</div>
<div class="subtitle">AI-Powered Environmental Impact Assessment Processing System</div>
</div>

<div class="diagram-section">
<h2>System Overview</h2>
<p style="color:#cbd5e1">The ESIA Workspace is a comprehensive monorepo combining React frontend, Express backend, and Python processing engines for ESIA document analysis.</p>

<div class="component-grid">

<div class="component">
<div class="comp-title">📱 React Frontend</div>
<div class="comp-desc">User interface (Port 3000)</div>
<div><span class="badge">React 19.2</span><span class="badge tech">TypeScript</span><span class="badge tech">Vite 6.2</span></div>
<div class="features">✓ Drag-drop upload<br>✓ Real-time progress<br>✓ Result display</div>
</div>

<div class="component backend">
<div class="comp-title">🚀 Express Backend</div>
<div class="comp-desc">REST API Server (Port 5000)</div>
<div><span class="badge">Express 4.18</span><span class="badge tech">Node.js</span><span class="badge tech">Multer</span></div>
<div class="features">✓ File upload<br>✓ Pipeline orchestration<br>✓ Status tracking</div>
</div>

<div class="component python">
<div class="comp-title">🔧 Python Pipeline</div>
<div class="comp-desc">Orchestration engine</div>
<div><span class="badge">Python 3.9+</span><span class="badge tech">Subprocess</span></div>
<div class="features">✓ Step coordination<br>✓ File I/O management<br>✓ CLI interface</div>
</div>

<div class="component processing">
<div class="comp-title">⚙️ Fact Extractor</div>
<div class="comp-desc">Processing module (Python)</div>
<div><span class="badge">DSPy</span><span class="badge tech">OpenRouter API</span><span class="badge tech">LLM</span></div>
<div class="features">✓ Semantic chunking<br>✓ Fact extraction<br>✓ Unit normalization</div>
</div>

<div class="component processing">
<div class="comp-title">📊 Fact Analyzer</div>
<div class="comp-desc">Analysis engine (Python)</div>
<div><span class="badge">Python</span><span class="badge tech">Pandas</span></div>
<div class="features">✓ Consistency check<br>✓ Threshold validation<br>✓ Gap analysis</div>
</div>

<div class="component storage">
<div class="comp-title">💾 Data Storage</div>
<div class="comp-desc">File system storage</div>
<div><span class="badge">JSON</span><span class="badge tech">CSV</span><span class="badge tech">JSONL</span></div>
<div class="features">✓ PDFs input<br>✓ Results output<br>✓ Timestamped</div>
</div>

<div class="component reports">
<div class="comp-title">📈 Reports</div>
<div class="comp-desc">Output generation</div>
<div><span class="badge">HTML Dashboard</span><span class="badge tech">Excel</span></div>
<div class="features">✓ Interactive viz<br>✓ Page references<br>✓ Severity badges</div>
</div>

<div class="component shared">
<div class="comp-title">📦 Shared Utils</div>
<div class="comp-desc">Monorepo library</div>
<div><span class="badge">TypeScript</span></div>
<div class="features">✓ Type definitions<br>✓ Utilities<br>✓ Constants</div>
</div>

</div>

<h2 style="margin-top:30px">Data Flow Architecture</h2>
<div class="flow">
<strong>User Upload Flow:</strong><br>
Browser → Frontend (3000) → Backend (5000) → Python Pipeline → Fact Extractor → Data Storage → Fact Analyzer → Reports Output
</div>

<div class="flow">
<strong>Real-time Updates:</strong><br>
User polls GET /api/pipeline/:executionId every 1-2 seconds for status updates during processing
</div>

<h2>Technology Stack</h2>
<div style="background:#334155;border-radius:6px;padding:15px;margin-top:15px;color:#cbd5e1">
<strong>Frontend:</strong> React 19.2 • TypeScript 5.8 • Vite 6.2 • Tailwind CSS<br>
<strong>Backend:</strong> Express 4.18 • Node.js • Multer • ES Modules<br>
<strong>Python:</strong> DSPy • Docling • OpenRouter API • Pandas<br>
<strong>DevOps:</strong> pnpm workspaces • Git monorepo • TypeScript strict mode
</div>

<h2>Component Legend</h2>
<div class="legend">
<div class="legend-item"><div class="legend-color" style="background:#3b82f6"></div><span>Frontend</span></div>
<div class="legend-item"><div class="legend-color" style="background:#10b981"></div><span>Backend/API</span></div>
<div class="legend-item"><div class="legend-color" style="background:#a855f7"></div><span>Python Pipeline</span></div>
<div class="legend-item"><div class="legend-color" style="background:#f97316"></div><span>Processing</span></div>
<div class="legend-item"><div class="legend-color" style="background:#06b6d4"></div><span>Storage</span></div>
<div class="legend-item"><div class="legend-color" style="background:#ec4899"></div><span>Reports</span></div>
</div>

</div>

<div style="text-align:center;color:#94a3b8;font-size:12px;margin-top:30px">
ESIA Workspace Architecture Diagram | Generated 2025-11-30<br>
For detailed documentation, see DEVELOPER_DOCUMENTATION.md
</div>
</div>
</body></html>
